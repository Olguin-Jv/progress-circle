<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/styles/progress-circle.css">
</head>

<body>

    <div class="progress-indicator small" data-val="40" data-pct="0.0">
        <svg class="svg" width="200" height="200" viewport="0 0 100 100" version="1.1"
            xmlns="http://www.w3.org/2000/svg">
            <circle r="90" cx="50%" cy="50%" fill="transparent" stroke-dasharray="565.48" stroke-dashoffset="0">
            </circle>
            <circle class="progress-bar" r="90" cx="50%" cy="50%" fill="transparent" stroke-dasharray="565.48"
                stroke-dashoffset="0" style="stroke-dashoffset: 565.487;"></circle>
        </svg>
    </div>

    <div class="progress-indicator small" data-val="10" data-pct="0.0">
        <svg class="svg" width="200" height="200" viewport="0 0 100 100" version="1.1"
            xmlns="http://www.w3.org/2000/svg">
            <circle r="90" cx="50%" cy="50%" fill="transparent" stroke-dasharray="565.48" stroke-dashoffset="0">
            </circle>
            <circle class="progress-bar" r="90" cx="50%" cy="50%" fill="transparent" stroke-dasharray="565.48"
                stroke-dashoffset="0" style="stroke-dashoffset: 565.487;"></circle>
        </svg>
    </div>

    <div class="progress-indicator small" data-val="85" data-pct="0.0">
        <svg class="svg" width="200" height="200" viewport="0 0 100 100" version="1.1"
            xmlns="http://www.w3.org/2000/svg">
            <circle r="90" cx="50%" cy="50%" fill="transparent" stroke-dasharray="565.48" stroke-dashoffset="0">
            </circle>
            <circle class="progress-bar" r="90" cx="50%" cy="50%" fill="transparent" stroke-dasharray="565.48"
                stroke-dashoffset="0" style="stroke-dashoffset: 565.487;"></circle>
        </svg>
    </div>

    <script>
        function updateProgressBars() {
            var progressContainers = document.getElementsByClassName('progress-indicator')

            var progressBar,
                progressContainer,
                val, r, c, pct;

            for (var i = 0; i < progressContainers.length; i++) {

                progressContainer = progressContainers[i]
                progressBar = progressContainer.querySelector('.progress-bar')

                val = progressContainer.dataset.val
                if (isNaN(val)) {
                    val = 100;
                }

                r = progressBar.getAttribute('r');
                c = Math.PI * (r * 2);

                if (val < 0) { val = 0; }
                if (val > 100) { val = 100; }

                pct = ((100 - val) / 100) * c;
                progressBar.style.strokeDashoffset = pct;
                progressContainer.dataset.pct = val
            }

        }

        setTimeout(updateProgressBars, 200);
    </script>


</body>

</html>